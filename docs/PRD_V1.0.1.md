# 检验科样本采集标准化查询系统 PRD V1.0.1

## 版本信息

| 版本 | 日期 | 作者 | 变更说明 |
|------|------|------|----------|
| V1.0.0 | 2026-01-14 | Manus | 初始版本，实现基础 MVP 闭环 |
| V1.0.1 | 2026-01-15 | Manus | 扩展详情页信息，增加患者准备、采集注意事项、保存条件、拒收标准 |

## 1. 产品概述

检验科样本采集标准化查询系统是一款面向医疗机构的检验项目信息管理与查询工具，帮助医护人员快速查询检验项目的采集、保存、转运等标准化信息，提高工作效率，减少采集错误。

## 2. 目标用户

- **护士/采血员**：查询采血管类型、采集量、采集顺序等
- **临床医生**：了解检验项目的患者准备要求、报告时间等
- **检验科人员**：管理检验项目数据、发布版本更新
- **患者**：了解检验前的准备要求

## 3. 功能需求

### 3.1 后台管理功能

#### 3.1.1 CSV 数据导入
- 支持上传 CSV 文件导入检验项目数据
- 强校验必填字段：item_id、item_name、specimen_type、tube_color
- 弱校验可选字段：生成警告但不阻止导入
- 生成导入报告：成功数、失败数、警告数统计
- 支持失败明细下载

#### 3.1.2 版本管理
- 草稿状态：新导入数据默认为草稿状态
- 发布版本：将草稿发布为正式版本，生成版本号（如 1.0.0）
- 版本历史：记录所有发布的版本及发布时间

### 3.2 H5 前端功能

#### 3.2.1 首页
- 搜索框：支持项目名称、别名、拼音首字母、管色、样本类型搜索
- 快捷入口：按管色分类、按样本类型分类
- 最近浏览：显示用户最近查看的项目

#### 3.2.2 搜索结果页
- 项目列表：显示项目名称、样本类型、管色标识、容器类型
- 场景标签：区分同名项目的不同采集场景
- 分页加载：支持下拉加载更多

#### 3.2.3 项目详情页（V1.0.1 扩展）

**基础信息卡片**
- 项目名称、项目编码
- 所属分组（急诊、临检、生化、免疫、微生物、分子诊断）
- 报告时间

**采集管/容器信息卡片**
- 管色（带颜色标识）
- 容器类型
- 抗凝剂类型
- 采集量

**患者准备卡片（V1.0.1 新增）**
- 空腹要求（如：空腹8-12小时）
- 禁忌事项（如：禁食高脂、禁饮咖啡）
- 停药要求（如：停用影响血脂药物数天）
- 体位要求（如：坐位或卧位）
- 其他准备事项

**采集注意事项卡片（V1.0.1 新增）**
- 采血顺序（如：先注入血培养瓶）
- 操作要点（如：止血带不超过1分钟）
- 采集时机（如：发热期采血、特定时间点采血）
- 特殊说明

**保存与转运卡片（V1.0.1 扩展）**
- 保存温度（室温、2-8℃、-20℃、-70℃）
- 保存时限（具体时间）
- 转运时限（如：2小时内送检）
- 特殊要求（避光、防震、冰浴等）

**拒收标准卡片（V1.0.1 扩展）**
- 该项目相关的拒收情况
- 常见拒收原因说明

**收藏功能**
- 登录用户可收藏项目
- 收藏列表快速访问

## 4. 数据模型

### 4.1 items 表（V1.0.1 扩展）

| 字段名 | 类型 | 说明 | 版本 |
|--------|------|------|------|
| id | INT | 主键 | V1.0.0 |
| itemId | VARCHAR(50) | 项目编码 | V1.0.0 |
| itemName | VARCHAR(500) | 项目名称 | V1.0.0 |
| alias | TEXT | 别名 | V1.0.0 |
| pinyinInitial | VARCHAR(100) | 拼音首字母 | V1.0.0 |
| specimenType | VARCHAR(100) | 样本类型 | V1.0.0 |
| tubeColor | VARCHAR(50) | 管色 | V1.0.0 |
| containerType | VARCHAR(100) | 容器类型 | V1.0.0 |
| anticoagulant | VARCHAR(100) | 抗凝剂 | V1.0.0 |
| volume | VARCHAR(50) | 采集量 | V1.0.0 |
| reportTime | VARCHAR(100) | 报告时间 | V1.0.0 |
| groupName | VARCHAR(100) | 所属分组 | V1.0.0 |
| patientPreparation | TEXT | 患者准备要求 | V1.0.1 |
| fastingRequirement | VARCHAR(200) | 空腹要求 | V1.0.1 |
| collectionNotes | TEXT | 采集注意事项 | V1.0.1 |
| collectionSequence | VARCHAR(200) | 采血顺序 | V1.0.1 |
| collectionTiming | VARCHAR(200) | 采集时机 | V1.0.1 |
| storageTemp | VARCHAR(100) | 保存温度 | V1.0.0 |
| storageLimit | VARCHAR(100) | 保存时限 | V1.0.1 |
| transportLimit | VARCHAR(100) | 转运时限 | V1.0.0 |
| specialRequirements | TEXT | 特殊要求 | V1.0.1 |
| rejectionCriteria | TEXT | 拒收标准 | V1.0.1 |
| versionId | INT | 版本ID | V1.0.0 |

### 4.2 versions 表

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | INT | 主键 |
| versionCode | VARCHAR(20) | 版本号 |
| status | ENUM | 状态（draft/published） |
| publishedAt | TIMESTAMP | 发布时间 |
| itemCount | INT | 项目数量 |
| changelog | TEXT | 变更日志 |

## 5. 拒收标准参考（来源：采集手册第八章）

系统内置以下拒收标准类型，根据项目特性关联：

1. **标签不合格**：唯一性标识错误、脱落、丢失、粘贴位置不对
2. **采集时机不正确**：未按要求时间采集（如24小时尿、皮质醇定时采血）
3. **采集量错误**：样本量不足以完成检验
4. **样本类型错误**：容器使用错误、需隔绝空气的样本接触空气
5. **容器错误**：用错采血管类型
6. **送检时间不符**：超过规定送检时间
7. **信息不正确**：患者信息与检验项目不匹配
8. **严重溶血**：采血不规范或保存不当导致
9. **严重脂血**：影响检测结果
10. **抗凝样本凝固**：未及时混匀或抗凝剂不足
11. **运输时间不当**：超过规定运输时间
12. **运输温度错误**：未按要求温度运输
13. **重复开单**：同一时间开具相同检测项目
14. **其他**：可能导致结果不准确的情况

## 6. 界面设计规范

### 6.1 色彩方案
- 主色：医疗蓝 #0891B2（Cyan-600）
- 辅助色：医疗绿 #059669（Emerald-600）
- 背景色：浅灰 #F8FAFC
- 文字色：深灰 #1E293B

### 6.2 管色标识
| 管色 | 颜色代码 | 说明 |
|------|----------|------|
| 红管 | #EF4444 | 促凝管 |
| 紫管 | #8B5CF6 | EDTA抗凝管 |
| 蓝管 | #3B82F6 | 枸橼酸钠抗凝管 |
| 绿管 | #22C55E | 肝素抗凝管 |
| 黄管 | #EAB308 | 促凝+分离胶管 |
| 灰管 | #6B7280 | 氟化钠抗凝管 |
| 黑管 | #1F2937 | 枸橼酸钠血沉管 |

## 7. 版本规划

| 版本 | 功能 | 状态 |
|------|------|------|
| V1.0.0 | MVP 基础闭环（导入、发布、搜索、详情） | 已完成 |
| V1.0.1 | 扩展详情页（患者准备、注意事项、拒收标准） | 开发中 |
| V1.1.0 | 科室分类筛选、高频项目标记 | 规划中 |
| V1.2.0 | 离线缓存、PWA 支持 | 规划中 |
